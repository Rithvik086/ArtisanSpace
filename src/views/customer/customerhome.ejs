<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home</title>
  <link rel="stylesheet" href="/navbar2.css" />
  <link rel="stylesheet" href="/customer/customerHome.css">
  <link rel="stylesheet" href="/footer.css" />
  // new style
  <style>
    :root {
  --primary-color: #4f46e5;
  --primary-hover: #4338ca;
  --secondary-color: #f3f4f6;
  --text-color: #1f2937;
  --light-text: #6b7280;
  --border-color: #e5e7eb;
  --success-color: #10b981;
  --warning-color: #f59e0b;
  --danger-color: #ef4444;
  --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --border-radius: 8px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  color: var(--text-color);
  background-color: #f9fafb;
  line-height: 1.5;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

h1 {
  font-size: 2rem;
  margin-bottom: 1.5rem;
  color: var(--text-color);
}

h2 {
  font-size: 1.5rem;
  margin-bottom: 1rem;
  color: var(--text-color);
}

h3 {
  font-size: 1.25rem;
  color: var(--text-color);
}

/* Tabs */
.tabs {
  display: flex;
  border-bottom: 1px solid var(--border-color);
  margin-bottom: 2rem;
  overflow-x: auto;
}

.tab-btn {
  padding: 0.75rem 1.5rem;
  background: none;
  border: none;
  border-bottom: 3px solid transparent;
  font-size: 1rem;
  font-weight: 500;
  color: var(--light-text);
  cursor: pointer;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.tab-btn:hover {
  color: var(--primary-color);
}

.tab-btn.active {
  color: var(--primary-color);
  border-bottom-color: var(--primary-color);
}

/* Tab Content */
.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

/* Cards */
.cards-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
}

.card {
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.card-header {
  padding: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--border-color);
}

.card-image {
  width: 100%;
  height: 180px;
  overflow: hidden;
}

.card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.card-body {
  padding: 1rem;
}

.card-body p {
  margin-bottom: 0.5rem;
}

.card-body ul {
  margin-left: 1.5rem;
  margin-bottom: 0.5rem;
}

.card-footer {
  padding: 1rem;
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  border-top: 1px solid var(--border-color);
}

/* Status */
.status {
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: capitalize;
}

.pending {
  background-color: #fef3c7;
  color: #92400e;
}

.accepted, .delivered {
  background-color: #d1fae5;
  color: #065f46;
}

.cancelled {
  background-color: #fee2e2;
  color: #b91c1c;
}

/* Buttons */
.btn {
  padding: 0.5rem 1rem;
  border-radius: var(--border-radius);
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid var(--border-color);
  background-color: white;
  color: var(--text-color);
}

.btn:hover {
  background-color: var(--secondary-color);
}

.btn.primary {
  background-color: var(--primary-color);
  color: white;
  border-color: var(--primary-color);
}

.btn.primary:hover {
  background-color: var(--primary-hover);
}

.btn.secondary {
  background-color: var(--secondary-color);
  color: var(--text-color);
}

/* Empty State */
.empty-state {
  grid-column: 1 / -1;
  text-align: center;
  padding: 3rem 1rem;
  background-color: white;
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
}

.empty-state p {
  margin-bottom: 1rem;
  color: var(--light-text);
}

/* Responsive */
@media (max-width: 768px) {
  .cards-container {
    grid-template-columns: 1fr;
  }
  
  .tabs {
    padding-bottom: 0.5rem;
  }
}
  </style>
</head>

<body>
  <%- include('../partials/navbar2', { role }) %>

  <main>
    <div class="mainimage">
      <h3>We Make Things With love</h3>
      <h1>HANDMADE</h1>
      <p>
        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Sapiente
        eligendi repudiandae vero quis? Nostrum provident repellendus alias
        incidunt, perferendis aut blanditiis dicta nisi, magni enim sint
        magnam quidem eius temporibus maxime facere?
      </p>
    </div>
    <div class="seconelem">
      <img src="/images/landingpage/artisan.jpg" alt="" srcset="" />
      <div class="welcomecontent">
        <h1>Welcome To ArtisanSpace</h1>
        <p>
          It is a long established fact that a reader will be distracted by
          the readable content of a page when looking at its layout. The point
          of using Lorem Ipsum is that it has a more-or-less normal
          distribution of letters, as opposed to using 'Content here, content
          here', making it look like readable English. Many desktop publishing
          packages and web page editors now use Lorem Ipsum as their default
          model text, and a search for 'lorem ipsum' will uncover
        </p>
      </div>
    </div>
    <div class="slider-container">
      <div class="slider">
        <% products.forEach(product => {%>
        <a href="/products/<%= product._id.toString() %>">
          <img src="<%= product.image %>" alt="<%= product.name %>">
        </a>
        <%}) %>
      </div>
    </div>
    <!-- // new tabs -->

    <div class="tabs">
      <button class="tab-btn active" data-tab="orders">Orders</button>
      <button class="tab-btn" data-tab="requests">Custom Requests</button>
      <button class="tab-btn" data-tab="workshops">Workshops</button>
    </div>
    
    <div class="tab-content active" id="orders">
      <h2>Your Orders</h2>
      <div class="cards-container">
        <% if (orders && orders.length > 0) { %>
          <% orders.forEach(order => { %>
            <div class="card">
              <div class="card-header">
                <h3>Order #<%= order._id.toString().slice(-6) %></h3>
                <span class="status <%= order.status %>"><%= order.status %></span>
              </div>
              <div class="card-body">
                <p><strong>Products:</strong></p>
                <ul>
                  <% order.products.forEach(product => { %>
                    <li><%= product.productId.name || 'Product' %> x<%= product.quantity %></li>
                  <% }) %>
                </ul>
                <p><strong>Total:</strong> $<%= order.money.toFixed(2) %></p>
                <p><strong>Purchased:</strong> <%= new Date(order.purchasedAt).toLocaleDateString() %></p>
              </div>
              <div class="card-footer">
                <button class="btn">View Details</button>
              </div>
            </div>
          <% }) %>
        <% } else { %>
          <div class="empty-state">
            <p>You don't have any orders yet.</p>
            <a href="/customer/store"><button  class="btn primary ">Shop Now</button></a>
          </div>
        <% } %>
      </div>
    </div>
    
    <div class="tab-content" id="requests">
      <h2>Your Custom Requests</h2>
      <div class="cards-container">
        <% if (requests && requests.length > 0) { %>
          <% requests.forEach(request => { %>
            <div class="card">
              <div class="card-header">
                <h3><%= request.title %></h3>
                <span class="status <%= request.isAccepted ? 'accepted' : 'pending' %>">
                  <%= request.isAccepted ? 'Accepted' : 'Pending' %>
                </span>
              </div>
              <% if (request.image) { %>
                <div class="card-image">
                  <img src="<%= request.image %>" alt="<%= request.title %>">
                </div>
              <% } %>
              <div class="card-body">
                <p><strong>Type:</strong> <%= request.type %></p>
                <p><strong>Description:</strong> <%= request.description %></p>
                <p><strong>Budget:</strong> <%= request.budget %></p>
                <p><strong>Required By:</strong> <%= request.requiredBy %></p>
              </div>
              <div class="card-footer">
               
               
              </div>
            </div>
          <% }) %>
        <% } else { %>
          <div class="empty-state">
            <p>You don't have any custom requests yet.</p>
            
          </div>
        <% } %>
      </div>
    </div>
    
    <div class="tab-content" id="workshops">
      <h2>Your Workshops</h2>
      <div class="cards-container">
        <% if (workshops && workshops.length > 0) { %>
          <% workshops.forEach(workshop => { %>
            <div class="card">
              <div class="card-header">
                <h3><%= workshop.workshopTitle %></h3>
                <span class="status <%= workshop.status === 1 ? 'accepted' : 'pending' %>">
                  <%= workshop.status === 1 ? 'Accepted' : 'Pending' %>
                </span>
              </div>
              <div class="card-body">
                <p><strong>Description:</strong> <%= workshop.workshopDescription %></p>
                <p><strong>Date:</strong> <%= workshop.date %></p>
                <p><strong>Time:</strong> <%= workshop.time %></p>
                <% if (workshop.status === 1 && workshop.acceptedAt) { %>
                  <p><strong>Accepted On:</strong> <%= workshop.acceptedAt %></p>
                <% } %>
              </div>
              <div class="card-footer">
                
              
              </div>
            </div>
          <% }) %>
        <% } else { %>
          <div class="empty-state">
            <p>You don't have any workshops yet.</p>
            
          </div>
        <% } %>
      </div>
    </div>
  </div>
  </main>
  <%- include("../partials/footer") %>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const slider = document.querySelector(".slider");

      function moveSlider() {
        const firstImage = slider.firstElementChild;
        const imgWidth = firstImage.offsetWidth + 20;

        slider.style.transition = "transform 0.7s ease-in-out";
        slider.style.transform = `translateX(-${imgWidth}px)`;

        setTimeout(() => {
          slider.appendChild(firstImage);
          slider.style.transition = "none";
          slider.style.transform = "translateX(0)";
        }, 700);
      }

      setInterval(moveSlider, 4000);
    });
  </script>

  // new script 
  <script>
    document.addEventListener('DOMContentLoaded', function() {
  // Tab switching functionality
  const tabButtons = document.querySelectorAll('.tab-btn');
  const tabContents = document.querySelectorAll('.tab-content');
  
  tabButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Remove active class from all buttons and contents
      tabButtons.forEach(btn => btn.classList.remove('active'));
      tabContents.forEach(content => content.classList.remove('active'));
      
      // Add active class to clicked button and corresponding content
      button.classList.add('active');
      const tabId = button.getAttribute('data-tab');
      document.getElementById(tabId).classList.add('active');
    });
  });
  
  
 
});
  </script>
</body>

</html>